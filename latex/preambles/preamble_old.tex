\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

%\usepackage{lmodern}
\usepackage{amsmath}%,amsfonts,amssymb}
\usepackage{MnSymbol}
\usepackage[
	minionint,
	lf,
	mathtabular,
	loosequotes,
	swash,
	opticals]{MinionPro}
\usepackage{inconsolata}
\usepackage[
	arc-separator = \,,
	retain-explicit-plus,
	%inter-unit-product =\cdot,
	detect-weight=true,
	detect-family=true,
	range-phrase=--,
	range-units=single]{siunitx}
\usepackage[table]{xcolor}
\usepackage{hhline}
\usepackage{xpatch}
\usepackage{multicol}
\usepackage{multirow}
\usepackage[version=4]{mhchem}
\usepackage{wasysym}
\usepackage{parskip}
\usepackage{etoolbox}
\usepackage{enumitem}
\usepackage[super]{nth}
\usepackage{bm}
\usepackage{pdfpages}
\usepackage{float}
\usepackage[
	justification=centering,
	labelfont={small,bf},
	font={small}]{caption}
\usepackage{subcaption}
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{pgfplots}
\usepackage{turnthepage}
\usepackage{tabto}
\usepackage{commath}
\usepackage{titlesec}
\usepackage[outline]{contour}
\usepackage{pdflscape}
\usepackage{array}
\usepackage[useregional]{datetime2}
%\usepackage[showframe]{geometry}
\usetikzlibrary{
	calc,
	arrows,
	arrows.meta,
	positioning
}
\usepackage{hyperref}
\usepackage[noabbrev]{cleveref}

\crefdefaultlabelformat{#2\textbf{#1}#3}
\creflabelformat{equation}{#2\textbf{(#1)}#3}
\crefname{partno}{part}{parts}
\crefname{question}{question}{questions}
\creflabelformat{equation}{#2\textbf{(#1)}#3}
\creflabelformat{figure}{#2\textbf{#1}#3}
\crefname{equation}{\textbf{equation}}{\textbf{equations}}
\Crefname{equation}{\textbf{Equation}}{\textbf{Equations}}
\crefname{figure}{\textbf{Figure}}{\textbf{Figures}}
\Crefname{figure}{\textbf{Figure}}{\textbf{Figures}}
\crefname{table}{\textbf{Table}}{\textbf{Tables}}
\Crefname{table}{\textbf{Table}}{\textbf{Tables}}
\crefname{appendix}{\textbf{Appendix}}{\textbf{Appendices}}
\Crefname{appendix}{\textbf{Appendix}}{\textbf{Appendices}}
\crefname{section}{\textbf{\S}}{\textbf{\S}}
\Crefname{section}{\textbf{\S}}{\textbf{\S}}
\crefname{algorithm}{\textbf{Algorithm}}{\textbf{Algorithms}}
\Crefname{algorithm}{\textbf{Algorithm}}{\textbf{Algorithms}}

%\crefname{subpart}{sub part}{sub parts}
%\crefname{subsubpart}{subsub part}{sub sub parts}

\pgfplotsset{compat=1.15}
\hypersetup{
	colorlinks   = true,    %Colours links instead of ugly boxes
	urlcolor     = magenta, %Colour for external hyperlinks
	linkcolor    = red,     %Colour of internal links
	citecolor    = red      %Colour of citations
}

\BeforeBeginEnvironment{choices}{\par\nopagebreak\minipage{\linewidth}}
\AfterEndEnvironment{choices}{\endminipage}

\newcommand*\circled[1]{\tikz[baseline=(char.base)]{%
		\node[shape=circle, draw, minimum size=1.5em, inner sep=0pt, thick] (char) {#1};}}
\renewcommand\choicelabel{%
	\circled{\thechoice}}

\renewcommand{\questionshook}{%
	\setlength{\leftmargin}{16pt}%
	\setlength{\labelwidth}{16pt}%
	\setlength{\labelsep}{10pt}%
	\setlength{\itemsep}{30pt}%
	\setlength{\parsep}{10pt}%
	\setlength{\rightpointsmargin}{1.75cm}
}
\renewcommand{\partshook}{%
	\setlength{\leftmargin}{17pt}
	\setlength{\labelwidth}{8pt}
	\setlength{\labelsep}{6pt}
	%\settowidth{\leftmargin}{20pt}
	%\setlength{\rightpointsmargin}{1in}%
	%\setlength{\itemsep}{30pt}%
	\setlength{\parsep}{10pt}%
}
\renewcommand{\choiceshook}{%
	\settowidth{\leftmargin}{W.\hskip\labelsep\hskip 5pt}%
	\setlength{\itemsep}{10pt}%
}

\renewcommand{\solutiontitle}{%
	\noindent\textbf{Solution:}\par\noindent%
}
\renewcommand{\questionlabel}{\thequestion.}
\renewcommand{\arraystretch}{1.5}
\renewcommand{\turnthepage}{\textbf{[Turn over]}}

\setlength{\abovedisplayskip}{0pt}
\setlength{\belowdisplayskip}{0pt}
\setlength{\abovedisplayshortskip}{0pt}
\setlength{\belowdisplayshortskip}{0pt}

\DeclareSIUnit{\year}{y}
\DeclareSIUnit{\AU}{AU}
\DeclareSIUnit{\parsec}{pc}
\DeclareSIUnit{\lightyear}{ly}
\DeclareSIUnit{\earthmass}{\textit{M}_{\earth}}
\DeclareSIUnit{\solarmass}{\textit{M}_{\astrosun}}
\DeclareSIUnit{\atm}{atm}

\SolutionEmphasis{\color{blue}}
\correctchoiceemphasis{\color{blue}\bfseries\boldmath}
\marksnotpoints{}
\pointformat{\hspace{-1cm}\bfseries\textbf[\themarginpoints]}
\pointsdroppedatright{}

\title{{\Huge{\textssc{\textbf{AstroChallenge \figureversion{osf}2020}}}}}
\author{\textcopyright \ National University of Singapore Astronomical Society \\
	\textcopyright \ Nanyang Technological University Astronomical Society \\
}

\makeatletter
\let\newtitle\@title
\let\newauthor\@author
\let\newdate\@date
\makeatother

\pagestyle{headandfoot}
\runningheadrule

%\coverfooter{}{Page \thepage\ of \totalnumpages}{}
\footer{}{Page \thepage\ of \totalnumpages}{}

\makeatletter
\newif\ifanswers
\@ifclasswith{exam}{answers}{\answerstrue}{\answersfalse}
\makeatother

\newcommand{\printsolns}{
	\ifanswers\vspace{20pt}
	\fbox{\fbox{{\Huge{\textssc{\textbf{\textcolor{red}{Solutions}}}}}}}

	\vspace{20pt}
}
\newcommand{\envupspace}{\ifanswers \vspace{20pt}}

\AtBeginEnvironment{tabularx}{%
	\figureversion{tabular}
	\sisetup{text-rm={\figureversion{tabular}}}
}

\newcolumntype{R}{>{\raggedleft\arraybackslash}X}
\newcolumntype{D}{>{\raggedcenter\arraybackslash}X}

\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{Y}{>{\centering\arraybackslash}X}
\newcolumntype{Q}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\renewcommand\tabularxcolumn[1]{m{#1}}

\titlelabel{{\thetitle\hspace{10pt}}}
\setlength{\jot}{10pt}

\renewcommand*{\thefootnote}{[\arabic{footnote}]}

\xpatchcmd{\oneparchoices}{\penalty -50\hskip 1em plus 1em\relax}{\hfill}{}{}
\xpatchcmd{\oneparchoices}{\penalty -50\hskip 1em plus 1em\relax}{\hfill}{}{}

\DTMlangsetup[en-GB]{ord=raise}

\input{glyphtounicode}
\pdfgentounicode=1

\pretolerance=2500
\tolerance=4500
\emergencystretch=0pt
\righthyphenmin=4
\lefthyphenmin=4

\newcommand{\astrochallenge}{\textbf{\textsc{AstroChallenge \figureversion{osf}\the\year}}}

\makeatletter
\newcommand*{\radiobutton}{%
	\@ifstar{\@radiobutton0}{\@radiobutton1}%
}
\newcommand*{\@radiobutton}[1]{%
	\begin{tikzpicture}
		\pgfmathsetlengthmacro\radius{height("X")/2}
		\draw[radius=\radius] circle;
		\ifcase#1 \fill[radius=.6*\radius] circle;\fi
	\end{tikzpicture}%
}
\makeatother
